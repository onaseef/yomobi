/*!
* This file is part of Aloha Editor Project http://aloha-editor.org
* Copyright Â© 2010-2011 Gentics Software GmbH, aloha@gentics.com
* Contributors http://aloha-editor.org/contribution.php 
* Licensed unter the terms of http://www.aloha-editor.org/license.html
*/
/*
* Aloha Editor is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.*
*
* Aloha Editor is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU Affero General Public License for more details.
*
* You should have received a copy of the GNU Affero General Public License
* along with this program. If not, see <http://www.gnu.org/licenses/>.
*/
/*!
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
// for old browsers
window.undefined=undefined,Ext={version:"3.2.1",versionDetail:{major:3,minor:2,patch:1}},Ext.apply=function(e,t,n){n&&Ext.apply(e,n);if(e&&t&&typeof t=="object")for(var r in t)e[r]=t[r];return e},function(){var e=0,t=Object.prototype.toString,n=navigator.userAgent.toLowerCase(),r=function(e){return e.test(n)},i=document,s=i.compatMode=="CSS1Compat",o=r(/opera/),u=r(/\bchrome\b/),a=r(/webkit/),f=!u&&r(/safari/),l=f&&r(/applewebkit\/4/),c=f&&r(/version\/3/),h=f&&r(/version\/4/),p=!o&&r(/msie/),d=p&&r(/msie 7/),v=p&&r(/msie 8/),m=p&&!d&&!v,g=!a&&r(/gecko/),y=g&&r(/rv:1\.8/),b=g&&r(/rv:1\.9/),w=p&&!s,E=r(/windows|win32/),S=r(/macintosh|mac os x/),x=r(/adobeair/),T=r(/linux/),N=/^https/i.test(window.location.protocol);if(m)try{i.execCommand("BackgroundImageCache",!1,!0)}catch(C){}Ext.apply(Ext,{SSL_SECURE_URL:N&&p?'javascript:""':"about:blank",isStrict:s,isSecure:N,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,applyIf:function(e,t){if(e)for(var n in t)Ext.isDefined(e[n])||(e[n]=t[n]);return e},id:function(t,n){return t=Ext.getDom(t,!0)||{},t.id||(t.id=(n||"ext-gen")+ ++e),t.id},extend:function(){var e=function(e){for(var t in e)this[t]=e[t]},t=Object.prototype.constructor;return function(n,r,i){typeof r=="object"&&(i=r,r=n,n=i.constructor!=t?i.constructor:function(){r.apply(this,arguments)});var s=function(){},o,u=r.prototype;return s.prototype=u,o=n.prototype=new s,o.constructor=n,n.superclass=u,u.constructor==t&&(u.constructor=r),n.override=function(e){Ext.override(n,e)},o.superclass=o.supr=function(){return u},o.override=e,Ext.override(n,i),n.extend=function(e){return Ext.extend(n,e)},n}}(),override:function(e,t){if(t){var n=e.prototype;Ext.apply(n,t),Ext.isIE&&t.hasOwnProperty("toString")&&(n.toString=t.toString)}},namespace:function(){var e,t;return Ext.each(arguments,function(n){t=n.split("."),e=window[t[0]]=window[t[0]]||{},Ext.each(t.slice(1),function(t){e=e[t]=e[t]||{}})}),e},urlEncode:function(e,t){var n,r=[],i=encodeURIComponent;return Ext.iterate(e,function(e,t){n=Ext.isEmpty(t),Ext.each(n?e:t,function(t){r.push("&",i(e),"=",!Ext.isEmpty(t)&&(t!=e||!n)?Ext.isDate(t)?Ext.encode(t).replace(/"/g,""):i(t):"")})}),t||(r.shift(),t=""),t+r.join("")},urlDecode:function(e,t){if(Ext.isEmpty(e))return{};var n={},r=e.split("&"),i=decodeURIComponent,s,o;return Ext.each(r,function(e){e=e.split("="),s=i(e[0]),o=i(e[1]),n[s]=t||!n[s]?o:[].concat(n[s]).concat(o)}),n},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(e.indexOf("?")===-1?"?":"&")+t},toArray:function(){return p?function(e,t,n,r){r=[];for(var i=0,s=e.length;i<s;i++)r.push(e[i]);return r.slice(t||0,n||r.length)}:function(e,t,n){return Array.prototype.slice.call(e,t||0,n||e.length)}}(),isIterable:function(e){return Ext.isArray(e)||e.callee?!0:/NodeList|HTMLCollection/.test(t.call(e))?!0:(typeof e.nextNode!="undefined"||e.item)&&Ext.isNumber(e.length)},each:function(e,t,n){if(Ext.isEmpty(e,!0))return;if(!Ext.isIterable(e)||Ext.isPrimitive(e))e=[e];for(var r=0,i=e.length;r<i;r++)if(t.call(n||e[r],e[r],r,e)===!1)return r},iterate:function(e,t,n){if(Ext.isEmpty(e))return;if(Ext.isIterable(e)){Ext.each(e,t,n);return}if(typeof e=="object")for(var r in e)if(e.hasOwnProperty(r)&&t.call(n||e,r,e[r],e)===!1)return},getDom:function(e,t){if(!e||!i)return null;if(e.dom)return e.dom;if(typeof e=="string"){var n=i.getElementById(e);return n&&p&&t?e==n.getAttribute("id")?n:null:n}return e},getBody:function(){return Ext.get(i.body||i.documentElement)},removeNode:p&&!v?function(){var e;return function(t){t&&t.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t,!0):Ext.EventManager.removeAll(t),e=e||i.createElement("div"),e.appendChild(t),e.innerHTML="",delete Ext.elCache[t.id])}}():function(e){e&&e.parentNode&&e.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e,!0):Ext.EventManager.removeAll(e),e.parentNode.removeChild(e),delete Ext.elCache[e.id])},isEmpty:function(e,t){return e===null||e===undefined||Ext.isArray(e)&&!e.length||(t?!1:e==="")},isArray:function(e){return t.apply(e)==="[object Array]"},isDate:function(e){return t.apply(e)==="[object Date]"},isObject:function(e){return!!e&&Object.prototype.toString.call(e)==="[object Object]"},isPrimitive:function(e){return Ext.isString(e)||Ext.isNumber(e)||Ext.isBoolean(e)},isFunction:function(e){return t.apply(e)==="[object Function]"},isNumber:function(e){return typeof e=="number"&&isFinite(e)},isString:function(e){return typeof e=="string"},isBoolean:function(e){return typeof e=="boolean"},isElement:function(e){return e?!!e.tagName:!1},isDefined:function(e){return typeof e!="undefined"},isOpera:o,isWebKit:a,isChrome:u,isSafari:f,isSafari3:c,isSafari4:h,isSafari2:l,isIE:p,isIE6:m,isIE7:d,isIE8:v,isGecko:g,isGecko2:y,isGecko3:b,isBorderBox:w,isLinux:T,isWindows:E,isMac:S,isAir:x}),Ext.ns=Ext.namespace}(),Ext.ns("Ext.util","Ext.lib","Ext.data"),Ext.elCache={},Ext.apply(Function.prototype,{createInterceptor:function(e,t){var n=this;return Ext.isFunction(e)?function(){var r=this,i=arguments;return e.target=r,e.method=n,e.apply(t||r||window,i)!==!1?n.apply(r||window,i):null}:this},createCallback:function(){var e=arguments,t=this;return function(){return t.apply(window,e)}},createDelegate:function(e,t,n){var r=this;return function(){var i=t||arguments;if(n===!0)i=Array.prototype.slice.call(arguments,0),i=i.concat(t);else if(Ext.isNumber(n)){i=Array.prototype.slice.call(arguments,0);var s=[n,0].concat(t);Array.prototype.splice.apply(i,s)}return r.apply(e||window,i)}},defer:function(e,t,n,r){var i=this.createDelegate(t,n,r);return e>0?setTimeout(i,e):(i(),0)}}),Ext.applyIf(String,{format:function(e){var t=Ext.toArray(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})}}),Ext.applyIf(Array.prototype,{indexOf:function(e,t){var n=this.length;t=t||0,t+=t<0?n:0;for(;t<n;++t)if(this[t]===e)return t;return-1},remove:function(e){var t=this.indexOf(e);return t!=-1&&this.splice(t,1),this}}),Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct"),Ext.apply(Ext,function(){var e=Ext,t=0,n=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(e,t){return Ext.extend(e,t(e.prototype))},getDoc:function(){return Ext.get(document)},num:function(e,t){return e=Number(Ext.isEmpty(e)||Ext.isArray(e)||typeof e=="boolean"||typeof e=="string"&&e.trim().length==0?NaN:e),isNaN(e)?t:e},value:function(e,t,n){return Ext.isEmpty(e,n)?t:e},escapeRe:function(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(e,t,n,r){e[t]=e[t].createSequence(n,r)},addBehaviors:function(e){if(!Ext.isReady)Ext.onReady(function(){Ext.addBehaviors(e)});else{var t={},n,r,i;for(r in e)(n=r.split("@"))[1]&&(i=n[0],t[i]||(t[i]=Ext.select(i)),t[i].on(n[1],e[r]));t=null}},getScrollBarWidth:function(e){if(!Ext.isReady)return 0;if(e===!0||n===null){var t=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),r=t.child("div",!0),i=r.offsetWidth;t.setStyle("overflow",Ext.isWebKit||Ext.isGecko?"auto":"scroll");var s=r.offsetWidth;t.remove(),n=i-s+2}return n},combine:function(){var e=arguments,t=e.length,n=[];for(var r=0;r<t;r++){var i=e[r];Ext.isArray(i)?n=n.concat(i):i.length!==undefined&&!i.substr?n=n.concat(Array.prototype.slice.call(i,0)):n.push(i)}return n},copyTo:function(e,t,n){return typeof n=="string"&&(n=n.split(/[,;\s]/)),Ext.each(n,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])},this),e},destroy:function(){Ext.each(arguments,function(e){e&&(Ext.isArray(e)?this.destroy.apply(this,e):typeof e.destroy=="function"?e.destroy():e.dom&&e.remove())},this)},destroyMembers:function(e,t,n,r){for(var i=1,s=arguments,o=s.length;i<o;i++)Ext.destroy(e[s[i]]),delete e[s[i]]},clean:function(e){var t=[];return Ext.each(e,function(e){!e||t.push(e)}),t},unique:function(e){var t=[],n={};return Ext.each(e,function(e){n[e]||t.push(e),n[e]=!0}),t},flatten:function(e){function n(e){return Ext.each(e,function(e){Ext.isArray(e)?n(e):t.push(e)}),t}var t=[];return n(e)},min:function(e,t){var n=e[0];return t=t||function(e,t){return e<t?-1:1},Ext.each(e,function(e){n=t(n,e)==-1?n:e}),n},max:function(e,t){var n=e[0];return t=t||function(e,t){return e>t?1:-1},Ext.each(e,function(e){n=t(n,e)==1?n:e}),n},mean:function(e){return e.length>0?Ext.sum(e)/e.length:undefined},sum:function(e){var t=0;return Ext.each(e,function(e){t+=e}),t},partition:function(e,t){var n=[[],[]];return Ext.each(e,function(e,r,i){n[t&&t(e,r,i)||!t&&e?0:1].push(e)}),n},invoke:function(e,t){var n=[],r=Array.prototype.slice.call(arguments,2);return Ext.each(e,function(e,i){e&&typeof e[t]=="function"?n.push(e[t].apply(e,r)):n.push(undefined)}),n},pluck:function(e,t){var n=[];return Ext.each(e,function(e){n.push(e[t])}),n},zip:function(){var e=Ext.partition(arguments,function(e){return typeof e!="function"}),t=e[0],n=e[1][0],r=Ext.max(Ext.pluck(t,"length")),i=[];for(var s=0;s<r;s++){i[s]=[];if(n)i[s]=n.apply(n,Ext.pluck(t,s));else for(var o=0,u=t.length;o<u;o++)i[s].push(t[o][s])}return i},getCmp:function(e){return Ext.ComponentMgr.get(e)},useShims:e.isIE6||e.isMac&&e.isGecko2,type:function(e){if(e===undefined||e===null)return!1;if(e.htmlElement)return"element";var t=typeof e;if(t=="object"&&e.nodeName)switch(e.nodeType){case 1:return"element";case 3:return/\S/.test(e.nodeValue)?"textnode":"whitespace"}if(t=="object"||t=="function"){switch(e.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof e.length=="number"&&typeof e.item=="function")return"nodelist"}return t},intercept:function(e,t,n,r){e[t]=e[t].createInterceptor(n,r)},callback:function(e,t,n,r){typeof e=="function"&&(r?e.defer(r,t,n||[]):e.apply(t,n||[]))}}}()),Ext.apply(Function.prototype,{createSequence:function(e,t){var n=this;return typeof e!="function"?this:function(){var r=n.apply(this||window,arguments);return e.apply(t||this||window,arguments),r}}}),Ext.applyIf(String,{escape:function(e){return e.replace(/('|\\)/g,"\\$1")},leftPad:function(e,t,n){var r=String(e);n||(n=" ");while(r.length<t)r=n+r;return r}}),String.prototype.toggle=function(e,t){return this==e?t:e},String.prototype.trim=function(){var e=/^\s+|\s+$/g;return function(){return this.replace(e,"")}}(),Date.prototype.getElapsed=function(e){return Math.abs((e||new Date).getTime()-this.getTime())},Ext.applyIf(Number.prototype,{constrain:function(e,t){return Math.min(Math.max(this,e),t)}}),Ext.util.TaskRunner=function(e){e=e||10;var t=[],n=[],r=0,i=!1,s=function(){i=!1,clearInterval(r),r=0},o=function(){i||(i=!0,r=setInterval(a,e))},u=function(e){n.push(e),e.onStop&&e.onStop.apply(e.scope||e)},a=function(){var e=n.length,r=(new Date).getTime();if(e>0){for(var i=0;i<e;i++)t.remove(n[i]);n=[];if(t.length<1){s();return}}for(var i=0,o,a,f,l=t.length;i<l;++i){o=t[i],a=r-o.taskRunTime;if(o.interval<=a){f=o.run.apply(o.scope||o,o.args||[++o.taskRunCount]),o.taskRunTime=r;if(f===!1||o.taskRunCount===o.repeat){u(o);return}}o.duration&&o.duration<=r-o.taskStartTime&&u(o)}};this.start=function(e){return t.push(e),e.taskStartTime=(new Date).getTime(),e.taskRunTime=0,e.taskRunCount=0,o(),e},this.stop=function(e){return u(e),e},this.stopAll=function(){s();for(var e=0,r=t.length;e<r;e++)t[e].onStop&&t[e].onStop();t=[],n=[]}},Ext.TaskMgr=new Ext.util.TaskRunner;if(typeof jQuery=="undefined")throw"Unable to load Ext, jQuery not found.";(function(){function t(t){return e||(e=new Ext.Element.Flyweight),e.dom=t,e}var e;Ext.lib.Dom={getViewWidth:function(e){return e?Math.max(jQuery(document).width(),jQuery(window).width()):jQuery(window).width()},getViewHeight:function(e){return e?Math.max(jQuery(document).height(),jQuery(window).height()):jQuery(window).height()},isAncestor:function(e,t){var n=!1;e=Ext.getDom(e),t=Ext.getDom(t);if(e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(t)&16);while(t=t.parentNode)n=t==e||n}return n},getRegion:function(e){return Ext.lib.Region.getRegion(e)},getY:function(e){return this.getXY(e)[1]},getX:function(e){return this.getXY(e)[0]},getXY:function(e){var n,r,i,s,o=document.body||document.documentElement;e=Ext.getDom(e);if(e==o)return[0,0];if(e.getBoundingClientRect)return i=e.getBoundingClientRect(),s=t(document).getScroll(),[Math.round(i.left+s.left),Math.round(i.top+s.top)];var u=0,a=0;n=e;var f=t(e).getStyle("position")=="absolute";while(n){u+=n.offsetLeft,a+=n.offsetTop,!f&&t(n).getStyle("position")=="absolute"&&(f=!0);if(Ext.isGecko){r=t(n);var l=parseInt(r.getStyle("borderTopWidth"),10)||0,c=parseInt(r.getStyle("borderLeftWidth"),10)||0;u+=c,a+=l,n!=e&&r.getStyle("overflow")!="visible"&&(u+=c,a+=l)}n=n.offsetParent}Ext.isSafari&&f&&(u-=o.offsetLeft,a-=o.offsetTop);if(Ext.isGecko&&!f){var h=t(o);u+=parseInt(h.getStyle("borderLeftWidth"),10)||0,a+=parseInt(h.getStyle("borderTopWidth"),10)||0}n=e.parentNode;while(n&&n!=o){if(!Ext.isOpera||n.tagName!="TR"&&t(n).getStyle("display")!="inline")u-=n.scrollLeft,a-=n.scrollTop;n=n.parentNode}return[u,a]},setXY:function(e,t){e=Ext.fly(e,"_setXY"),e.position();var n=e.translatePoints(t);t[0]!==!1&&(e.dom.style.left=n.left+"px"),t[1]!==!1&&(e.dom.style.top=n.top+"px")},setX:function(e,t){this.setXY(e,[t,!1])},setY:function(e,t){this.setXY(e,[!1,t])}},Ext.lib.Event={getPageX:function(e){return e=e.browserEvent||e,e.pageX},getPageY:function(e){return e=e.browserEvent||e,e.pageY},getXY:function(e){return e=e.browserEvent||e,[e.pageX,e.pageY]},getTarget:function(e){return e.target},on:function(e,t,n,r,i){jQuery(e).bind(t,n)},un:function(e,t,n){jQuery(e).unbind(t,n)},purgeElement:function(e){jQuery(e).unbind()},preventDefault:function(e){e=e.browserEvent||e,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},stopEvent:function(e){this.preventDefault(e),this.stopPropagation(e)},onAvailable:function(e,t,n){var r=new Date,i=function(){r.getElapsed()>1e4&&clearInterval(s);var i=document.getElementById(e);i&&(clearInterval(s),t.call(n||window,i))},s=setInterval(i,50)},resolveTextNode:Ext.isGecko?function(e){if(!e)return;var t=HTMLElement.prototype.toString.call(e);if(t=="[xpconnect wrapped native prototype]"||t=="[object XULElement]")return;return e.nodeType==3?e.parentNode:e}:function(e){return e&&e.nodeType==3?e.parentNode:e},getRelatedTarget:function(e){e=e.browserEvent||e;var t=e.relatedTarget;return t||(e.type=="mouseout"?t=e.toElement:e.type=="mouseover"&&(t=e.fromElement)),this.resolveTextNode(t)}},Ext.lib.Ajax=function(){var e=function(e){return function(n,r){r!="error"&&r!="timeout"||!e.failure?e.success&&e.success.call(e.scope||window,t(e,n)):e.failure.call(e.scope||window,t(e,n))}},t=function(e,t){var n={},r,i,s;try{r=t.getAllResponseHeaders(),Ext.each(r.replace(/\r\n/g,"\n").split("\n"),function(e){i=e.indexOf(":"),i>=0&&(s=e.substr(0,i).toLowerCase(),e.charAt(i+1)==" "&&++i,n[s]=e.substr(i+1))})}catch(o){}return{responseText:t.responseText,responseXML:t.responseXML,argument:e.argument,status:t.status,statusText:t.statusText,getResponseHeader:function(e){return n[e.toLowerCase()]},getAllResponseHeaders:function(){return r}}};return{request:function(t,n,r,i,s){var o={type:t,url:n,data:i,timeout:r.timeout,complete:e(r)};if(s){var u=s.headers;if(s.xmlData){o.data=s.xmlData,o.processData=!1,o.type=t?t:s.method?s.method:"POST";if(!u||!u["Content-Type"])o.contentType="text/xml"}else if(s.jsonData){o.data=typeof s.jsonData=="object"?Ext.encode(s.jsonData):s.jsonData,o.processData=!1,o.type=t?t:s.method?s.method:"POST";if(!u||!u["Content-Type"])o.contentType="application/json"}u&&(o.beforeSend=function(e){for(var t in u)u.hasOwnProperty(t)&&e.setRequestHeader(t,u[t])})}jQuery.ajax(o)},formRequest:function(t,n,r,i,s,o){jQuery.ajax({type:Ext.getDom(t).method||"POST",url:n,data:jQuery(t).serialize()+(i?"&"+i:""),timeout:r.timeout,complete:e(r)})},isCallInProgress:function(e){return!1},abort:function(e){return!1},serializeForm:function(e){return jQuery(e.dom||e).serialize()}}}(),Ext.lib.Anim=function(){var e=function(e,t){var n=!0;return{stop:function(e){},isAnimated:function(){return n},proxyCallback:function(){n=!1,Ext.callback(e,t)}}};return{scroll:function(t,n,r,i,s,o){var u=e(s,o);return t=Ext.getDom(t),typeof n.scroll.to[0]=="number"&&(t.scrollLeft=n.scroll.to[0]),typeof n.scroll.to[1]=="number"&&(t.scrollTop=n.scroll.to[1]),u.proxyCallback(),u},motion:function(e,t,n,r,i,s){return this.run(e,t,n,r,i,s)},color:function(t,n,r,i,s,o){var u=e(s,o);return u.proxyCallback(),u},run:function(t,n,r,i,s,o,u){var a=e(s,o),f=Ext.fly(t,"_animrun"),l={};for(var c in n)switch(c){case"points":var h,p;f.position();if(h=n.points.by){var d=f.getXY();p=f.translatePoints([d[0]+h[0],d[1]+h[1]])}else p=f.translatePoints(n.points.to);l.left=p.left,l.top=p.top,parseInt(f.getStyle("left"),10)||f.setLeft(0),parseInt(f.getStyle("top"),10)||f.setTop(0),n.points.from&&f.setXY(n.points.from);break;case"width":l.width=n.width.to,n.width.from&&f.setWidth(n.width.from);break;case"height":l.height=n.height.to,n.height.from&&f.setHeight(n.height.from);break;case"opacity":l.opacity=n.opacity.to,n.opacity.from&&f.setOpacity(n.opacity.from);break;case"left":l.left=n.left.to,n.left.from&&f.setLeft(n.left.from);break;case"top":l.top=n.top.to,n.top.from&&f.setTop(n.top.from);break;case"callback":case"scope":case"xy":break;default:l[c]=n[c].to,n[c].from&&f.setStyle(c,n[c].from)}return jQuery(t).animate(l,r*1e3,undefined,a.proxyCallback),a}}}(),Ext.lib.Region=function(e,t,n,r){this.top=e,this[1]=e,this.right=t,this.bottom=n,this.left=r,this[0]=r},Ext.lib.Region.prototype={contains:function(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom},getArea:function(){return(this.bottom-this.top)*(this.right-this.left)},intersect:function(e){var t=Math.max(this.top,e.top),n=Math.min(this.right,e.right),r=Math.min(this.bottom,e.bottom),i=Math.max(this.left,e.left);return r>=t&&n>=i?new Ext.lib.Region(t,n,r,i):null},union:function(e){var t=Math.min(this.top,e.top),n=Math.max(this.right,e.right),r=Math.max(this.bottom,e.bottom),i=Math.min(this.left,e.left);return new Ext.lib.Region(t,n,r,i)},constrainTo:function(e){return this.top=this.top.constrain(e.top,e.bottom),this.bottom=this.bottom.constrain(e.top,e.bottom),this.left=this.left.constrain(e.left,e.right),this.right=this.right.constrain(e.left,e.right),this},adjust:function(e,t,n,r){return this.top+=e,this.left+=t,this.right+=r,this.bottom+=n,this}},Ext.lib.Region.getRegion=function(e){var t=Ext.lib.Dom.getXY(e),n=t[1],r=t[0]+e.offsetWidth,i=t[1]+e.offsetHeight,s=t[0];return new Ext.lib.Region(n,r,i,s)},Ext.lib.Point=function(e,t){Ext.isArray(e)&&(t=e[1],e=e[0]),this.x=this.right=this.left=this[0]=e,this.y=this.top=this.bottom=this[1]=t},Ext.lib.Point.prototype=new Ext.lib.Region;if(Ext.isIE){function n(){var e=Function.prototype;delete e.createSequence,delete e.defer,delete e.createDelegate,delete e.createCallback,delete e.createInterceptor,window.detachEvent("onunload",n)}window.attachEvent("onunload",n)}})();